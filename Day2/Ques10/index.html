<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ques10</title>
</head>

<body>
    <div style="display: flex; justify-content: center; align-items: center;">
        <button style="padding: 10px 30px;" id="addMark">Add Students</button>
    </div>
    <div style="display: flex; align-items: center; justify-content: center;">
        <table  border="1" id="studentDetails">
        <thead>
            <tr>
                <th>Name</th>
            <th>Subject1</th>
            <th>Subject2</th>
            <th>Subject3</th>
            <th>Subject4</th>
            <th>Subject5</th>
            <th>Total Mark</th>
            <th>Avg Mark</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
    </div>
</body>
<script>
    var addMark = document.getElementById("addMark");
    var studentDetail=document.getElementById('studentDetails');
    var arr= JSON.parse(localStorage.getItem("studentDetails")) || [] 
    function displayData() {
            var tbody = document.querySelector('table tbody');
            tbody.innerHTML = " ";

            arr.forEach(person => {
                var row = document.createElement('tr');

                row.innerHTML = `
                    <td>${person.name}</td>
                    <td>${person.subject1}</td>
                    <td>${person.subject2}</td>
                    <td>${person.subject3}</td>
                    <td>${person.subject4}</td>
                    <td>${person.subject5}</td>
                    <td>${person.TotalMark}</td>
                    <td>${person.avgmark}</td>
                `
                tbody.appendChild(row);
            })
    }

    addMark.addEventListener('click', () => {
        var studentName = prompt('Enter Name');
        var Subject1 = parseInt(prompt("enter Marks 1st Subject"));
        var Subject2 = parseInt(prompt("enter Marks 2nd Subject"));
        var Subject3 = parseInt(prompt("enter Marks 3rd Subject"));
        var Subject4 = parseInt(prompt("enter Marks 4th Subject"));
        var Subject5 = parseInt(prompt("enter Marks 5th Subject"));
         if (!studentName || isNaN(Subject1) || isNaN(Subject2) || isNaN(Subject3) || isNaN(Subject4) || isNaN(Subject5)) {
            alert("Please fill all details correctly.");
            return;
        }
        var sum =  Subject1 + Subject2 + Subject3 + Subject4 + Subject5;
        var avgMark = parseFloat(sum / 5);
        var obj={name:studentName,subject1:Subject1,subject2:Subject2,subject3:Subject3,subject4:Subject4,subject5:Subject5,TotalMark:sum,avgmark:avgMark}
        arr.push(obj);
        localStorage.setItem("studentDetails",JSON.stringify(arr));
        displayData();
    })

    window.addEventListener('DOMContentLoaded',displayData)
    
</script>

</html>